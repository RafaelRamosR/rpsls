"use strict";var root=document.documentElement,btnPlay=document.getElementById("play"),btnEmoji=document.getElementById("btnEmoji"),modal=document.getElementById("modal"),modalInfo=document.getElementById("info"),btnInfo=document.getElementById("btn-info"),titleResult=document.getElementById("titleResult"),arrCountdown=["🆚","1️⃣","2️⃣","3️⃣"],arrEmojis=["✊","✋","✌","👌","🖖"],arrLives=["🖤🖤🖤","🖤🖤💖","🖤💖💖"],emojiUser="",setItem=function(e,t){return localStorage.setItem(e,t)},getItem=function(e){return parseInt(localStorage.getItem(e),10)},restart=function(e){emojiUser="",root.style="",btnPlay.classList.toggle("none"),setItem("round",1),setItem("user-live",3),setItem("computer-live",3);for(var t=0;t<btnEmoji.children.length;t+=1)btnEmoji.children[t].disabled=e},numRandom=function(e,t){return Math.floor(Math.random()*(t-e))+e},countdown=function(){var e=arrCountdown.length-1,t=setInterval((function(){root.style.setProperty("--emoji-count",'"'.concat(arrCountdown[e],'"')),(e-=1)<0&&(playGame(),clearInterval(t))}),1e3)},livesPlayer=function(e){switch(e){case"win":setItem("computer-live",getItem("computer-live")-1),root.style.setProperty("--lives-computer",'"'.concat(arrLives[getItem("computer-live")],'"'));break;case"lost":setItem("user-live",getItem("user-live")-1),root.style.setProperty("--lives-user",'"'.concat(arrLives[getItem("user-live")],'"'));break;default:return!1}return 0===getItem("user-live")||0===getItem("computer-live")},newRound=function(e){var t=livesPlayer(e),o=getItem("user-live"),r=getItem("computer-live"),n=getItem("round")+1;if(n>5||!0===t){var s="";return s=o>r?"WIN":o<r?"LOST":"TIED",modal.classList.add("modal-show"),titleResult.innerText="YOU ".concat(s),!0}return root.style.setProperty("--img-user","url(../img/user-round".concat(n,".svg)")),root.style.setProperty("--img-computer","url(../img/computer-round".concat(n,".svg)")),setItem("round",n),countdown()},playGame=function(){var e=[],t=arrEmojis[numRandom(0,5)];switch(root.style.setProperty("--emoji-computer",'"'.concat(t,'"')),emojiUser){case t:return newRound("tied");case"✊":e.push("✌","👌");break;case"✋":e.push("✊","🖖");break;case"✌":e.push("✋","👌");break;case"👌":e.push("✋","🖖");break;case"🖖":e.push("✊","✌");break;default:return newRound("lost")}var o=!0===e.includes(t)?"win":"lost";return newRound(o)};btnPlay.addEventListener("click",(function(){restart(!1),root.style.setProperty("--img-user","url(../img/user-round1.svg)"),root.style.setProperty("--img-computer","url(../img/computer-round1.svg)"),countdown()})),btnEmoji.addEventListener("click",(function(e){var t=e.target.dataset;void 0!==t.emoji&&(emojiUser=t.emoji,root.style.setProperty("--emoji-user",'"'.concat(emojiUser,'"')))}));var modalClose=function(e,t){return!!e.classList.contains("modal")&&(t.classList.remove("modal-show"),!0)};btnInfo.addEventListener("click",(function(){return modalInfo.classList.add("modal-show")})),modal.addEventListener("click",(function(e){modalClose(e.target,modal)&&restart(!0)})),modalInfo.addEventListener("click",(function(e){modalClose(e.target,modalInfo)}));